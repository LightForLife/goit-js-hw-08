{"mappings":"YACA,IAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,wBAC9BE,SAAUH,SAASC,cAAc,4BAUpBH,EAAVC,KAAKK,iBAAiB,SAwB3B,SAAyBC,GAGLC,aAAaC,QAAQ,uBA2B3BC,EAAHH,EAAMI,OAAOC,MAAQL,EAAMI,OAAOE,MAGa,IAAlDC,EAAaC,KAAKC,UAAUN,GAIlCF,aAAaS,QAAQ,sBAAuBH,MA5D9Cd,EAAKC,KAAKK,iBAAiB,UAiB3B,SAAsBC,GACpBA,EAAMW,oBAXUV,aAAaC,QAAQ,wBAwDvC,WACE,IAAMU,EAAYX,aAAaC,QAAQ,uBACvCW,QAAQC,IAAIF,GAEZ,IAAIG,EAAW,GAEf,IACEA,EAAWP,KAAKQ,MAAMJ,GACtB,MAAOK,GACPJ,QAAQC,IAAI,mBAAoBG,GAG9BL,IACFnB,EAAKI,MAAMS,MAAQS,EAASlB,OAAS,GAErCJ,EAAKK,SAASQ,MAAQS,EAASG,SAAW,IApE9CC,GAGA,IAAIhB,EAAW,G","sources":["src/js/03-feedback.js"],"sourcesContent":["// ================================\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  email: document.querySelector('.feedback-form input'),\n  textarea: document.querySelector('.feedback-form textarea'),\n};\n\n// console.log(refs.form);\n// console.log(refs.email);\n// console.log(refs.textarea);\n\n// const formData = {};\n\n// Ставим слушатели\nrefs.form.addEventListener('input', onFormDataInput);\nrefs.form.addEventListener('submit', onFormSubmit);\n// refs.textarea.addEventListener('input', onTextAreaInput);\n// refs.email.addEventListener('input', onTextAreaInput);\n\n//При загрузке страницы проверяй состояние хранилища,\n// и если там есть сохраненные данные, заполняй ими поля формы.\n// В противном случае поля должны быть пустыми.\nconst savedData = localStorage.getItem('feedback-form-state');\n\n// ================================\npopulateInput();\n// populateInput();\n\nlet formData = {};\n\n// console.log(refs.textarea.value);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  // console.log(event);\n}\n\nfunction onFormDataInput(event) {\n  // 1. Читаем сторедж\n\n  const savedData = localStorage.getItem('feedback-form-state');\n  // console.log(savedData);\n\n  // console.log(event.target.name);\n  // console.log(event.target.value);\n\n  // refs.email.value = savedText.email || '';\n\n  // refs.textarea.value = savedText.message || '';\n  // console.log(savedData);\n  //   const savedText = JSON.parse(savedData);\n\n  //   if (savedData) {\n  //     const savedText = JSON.parse(savedData);\n  //     refs.email.value = savedText.email;\n\n  //     refs.textarea.value = savedText.message;\n  //   }\n  // 2. Преобразуем в обьект з JSON\n\n  // 2. Преобразуем в массим з JSON\n  // 3. Пушим в массив новые данные\n  // 4. Конвертируем новый массив в JSON\n  // 5. Записываем новый JSON в сторедж\n\n  // Добавляем в обьект formData данные с инпутов,\n  // name - ключ, value - значение.\n  formData[event.target.name] = event.target.value;\n\n  // Преобразуем обьект в строку и сохраняем его в локальное хранилище\n  const savedInput = JSON.stringify(formData);\n  // console.log(savedInput);\n  // console.log(formData);\n\n  localStorage.setItem('feedback-form-state', savedInput);\n}\n\nfunction populateInput() {\n  const savedData = localStorage.getItem('feedback-form-state');\n  console.log(savedData);\n\n  let formData = {};\n\n  try {\n    formData = JSON.parse(savedData);\n  } catch (error) {\n    console.log('Ошибка парсинга:', error);\n  }\n\n  if (savedData) {\n    refs.email.value = formData.email || '';\n\n    refs.textarea.value = formData.message || '';\n  }\n\n  return formData;\n}\n"],"names":["$b00c40859be242c5$var$refs","form","document","querySelector","email","textarea","addEventListener","event","localStorage","getItem","$b00c40859be242c5$var$formData","target","name","value","savedInput","JSON","stringify","setItem","preventDefault","savedData1","console","log","formData1","parse","error","message","$b00c40859be242c5$var$populateInput"],"version":3,"file":"03-feedback.d1252134.js.map"}