{"mappings":"AACA,MAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,wBAC9BE,SAAUH,SAASC,cAAc,4BAGnCG,QAAQC,IAAIP,EAAKC,MACjBK,QAAQC,IAAIP,EAAKI,OACjBE,QAAQC,IAAIP,EAAKK,UAKFL,EAAVC,KAAKO,iBAAiB,SAuB3B,SAAyBC,GAGLC,aAAaC,QAAQ,uBAEvCL,QAAQC,IAAIE,EAAMG,OAAOC,MACzBP,QAAQC,IAAIE,EAAMG,OAAOE,OAmBbC,EAAHN,EAAMG,OAAOC,MAAQJ,EAAMG,OAAOE,MAG3C,MAAME,EAAaC,KAAKC,UAAUH,GAIlCL,aAAaS,QAAQ,sBAAuBH,MAtD9ChB,EAAKC,KAAKO,iBAAiB,UAgB3B,SAAsBC,GACpBA,EAAMW,oBAVUV,aAAaC,QAAQ,wBAkDvC,WACE,MAAMU,EAAYX,aAAaC,QAAQ,uBACjCW,EAAYL,KAAKM,MAAMF,GAGzBA,IACFrB,EAAKI,MAAMU,MAAQQ,EAAUlB,OAAS,GAEtCJ,EAAKK,SAASS,MAAQQ,EAAUE,SAAW,IAvD/CC,GAEA,MAAMV,EAAW","sources":["src/js/03-feedback.js"],"sourcesContent":["// ================================\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  email: document.querySelector('.feedback-form input'),\n  textarea: document.querySelector('.feedback-form textarea'),\n};\n\nconsole.log(refs.form);\nconsole.log(refs.email);\nconsole.log(refs.textarea);\n\n// const formData = {};\n\n// Ставим слушатели\nrefs.form.addEventListener('input', onFormDataInput);\nrefs.form.addEventListener('submit', onFormSubmit);\n// refs.textarea.addEventListener('input', onTextAreaInput);\n// refs.email.addEventListener('input', onTextAreaInput);\n\n//При загрузке страницы проверяй состояние хранилища,\n// и если там есть сохраненные данные, заполняй ими поля формы.\n// В противном случае поля должны быть пустыми.\nconst savedData = localStorage.getItem('feedback-form-state');\n\n// ================================\npopulateInput();\n\nconst formData = {};\n\n// console.log(refs.textarea.value);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  // console.log(event);\n}\n\nfunction onFormDataInput(event) {\n  // 1. Читаем сторедж\n\n  const savedData = localStorage.getItem('feedback-form-state');\n\n  console.log(event.target.name);\n  console.log(event.target.value);\n  // console.log(savedData);\n  //   const savedText = JSON.parse(savedData);\n\n  //   if (savedData) {\n  //     const savedText = JSON.parse(savedData);\n  //     refs.email.value = savedText.email;\n\n  //     refs.textarea.value = savedText.message;\n  //   }\n  // 2. Преобразуем в обьект з JSON\n\n  // 2. Преобразуем в массим з JSON\n  // 3. Пушим в массив новые данные\n  // 4. Конвертируем новый массив в JSON\n  // 5. Записываем новый JSON в сторедж\n\n  // Добавляем в обьект formData данные с инпутов,\n  // name - ключ, value - значение.\n  formData[event.target.name] = event.target.value;\n\n  // Преобразуем обьект в строку и сохраняем его в локальное хранилище\n  const savedInput = JSON.stringify(formData);\n  // console.log(savedInput);\n  // console.log(formData);\n\n  localStorage.setItem('feedback-form-state', savedInput);\n}\n\nfunction populateInput() {\n  const savedData = localStorage.getItem('feedback-form-state');\n  const savedText = JSON.parse(savedData);\n  // console.log(savedData);\n\n  if (savedData) {\n    refs.email.value = savedText.email || '';\n\n    refs.textarea.value = savedText.message || '';\n  }\n}\n"],"names":["$945622fd0f572e60$var$refs","form","document","querySelector","email","textarea","console","log","addEventListener","event","localStorage","getItem","target","name","value","$945622fd0f572e60$var$formData","savedInput","JSON","stringify","setItem","preventDefault","savedData1","savedText","parse","message","$945622fd0f572e60$var$populateInput"],"version":3,"file":"03-feedback.f567bf16.js.map"}